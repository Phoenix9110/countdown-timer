---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import SocialIcon from '../components/SocialIcon.astro'
import FacebookIcon from '../components/icons/Facebook.astro'
import PinterestIcon from '../components/icons/Pinterest.astro'
import InstagramIcon from '../components/icons/Instagram.astro'
// Supports weights 300-700
import '@fontsource-variable/red-hat-text';

---

<Layout title="count down">
	<header>
		<h1>WE'RE LAUNCHING SOON</h1>
	</header>
	<main>

		<section role="list" class="link-card-grid">
			<Card
				title="days"
			/>
			<Card
				title="hours"
			/>
			<Card
				title="minutes"
			/>
			<Card
				title="seconds"
			/>
		</section>
	</main>
	<footer class="social_icons">
		<SocialIcon title="facebook"><FacebookIcon/></SocialIcon>
		<SocialIcon title="pinterest"><PinterestIcon/></SocialIcon>
		<SocialIcon title="instagram"><InstagramIcon/></SocialIcon>
	</footer>
</Layout>

<script>
	var countDownDate = new Date("Apr 12, 2024 17:25:00").getTime();


// Update the count down every 1 second
var x = setInterval(function() {

  var now = new Date().getTime();

  // Find the difference between now and the count down date
  var difference = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(difference / (1000 * 60 * 60 * 24));
  var hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((difference % (1000 * 60)) / 1000);


	document.querySelector('#days').innerHTML = days.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
	document.querySelector('#hours').innerHTML = hours.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
	document.querySelector('#minutes').innerHTML = minutes.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
	document.querySelector('#seconds').innerHTML = seconds.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})
  // If the count down is finished, write some text
  if (difference < 0) {
    clearInterval(x);

		document.querySelector('#days').innerHTML = "00"
		document.querySelector('#hours').innerHTML = "00"
		document.querySelector('#minutes').innerHTML = "00"
		document.querySelector('#seconds').innerHTML = "00"
  }
}, 1000);

</script>

<style>
	html{
		background-image: url('./images/bg-stars.svg'),
											url('./images/pattern-hills.svg');										
		background-repeat: repeat, no-repeat;
		background-size: contain, contain;
		background-position: bottom;
	}
	body {
  font-family: 'Red Hat Text Variable', sans-serif;
	height: 100vh;
    margin: 0;
    padding: 0;
		display: flex;
		flex-direction: column;
		align-items: center;
}
	main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}

	h1 {
		font-size: 1.5rem;
		color: white;
		font-weight: 700;
		line-height: 1;
		text-align: center;
		margin-top: 4em;
		letter-spacing: 4px;
	}
	
	.link-card-grid {
		display: grid;
		grid-template-columns: repeat(4, 140px);
    justify-content: center;
		gap: 2rem;
		padding: 0;
	}
	.social_icons{
		margin-bottom: 4em;
		width: 100%;
		display: inline-flex;
		justify-content: center;
		gap: 30px;
		height: 20%;
    align-items: flex-end;
	}
	@media (max-width: 600px) {

		.link-card-grid {
	    grid-template-columns: repeat(4, 60px);
		}
		main {
			width: calc(100% - 1rem);
		}
		h1{
			margin-top: 5em;
    	letter-spacing: 6px;
			line-height: 35px;
		}
	}
</style>
